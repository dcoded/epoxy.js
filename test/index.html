<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8 />
    <title>Test Data-Binding</title>
    <link rel="stylesheet" type="text/css" media="screen" href="master.css" />
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
            integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc="
            crossorigin="anonymous">
    </script>
    <script src="/lib/epoxy.js"></script>
    <script src="/lib/epoxy.binders.js"></script>
    <script src="/lib/epoxy.socketio.js"></script>
</head>
<body>

    <form data-id="some-form">
        <div>
            <input type="text" data-id="firstname" placeholder="First name" />
        </div>
        <div>
            <input type="text" data-id="lastname" placeholder="Last name" />
        </div>
        <div>
            <input type="submit" value="Update" data-id="submitbtn" />
        </div>
    </form>

<div>
    <div data-id="foobar"></div>
    <textarea data-id="textareafoo"></textarea>
</div>


<script> 
    Epoxy.initialize();
    Epoxy.addListener(function(id, binder, value) {
        var first = Epoxy.getValue('firstname');
        var last  = Epoxy.getValue('lastname');

        console.log(binder);

        if (binder == 'event:click') {
            Epoxy.setValue('foobar', 'Hello my name is ' + first + ', ' + last);
        }

        Epoxy.setValue('textareafoo', first + ' ' + last);
    });

    Epoxy.addListener(EpoxySocketIO('http://localhost:3000'));
</script>


</body>
</html>